<ion-header>
    <ion-toolbar class="toolbar-simple">
        <ion-buttons slot="start">
            <ion-back-button defaultHref="/admin/tabs/records"></ion-back-button>
        </ion-buttons>
        <ion-title>Detalles del Reclamo</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-list lines="none" class="link-buttons-container">
        <ion-item-group class="ion-margin-bottom">
            <ion-label class="group-label group-label--mb">Ver detalles del usuario</ion-label>
            <ion-item (click)="goToUserDetails()" color="pagami-surface" button detail [disabled]="!intentProvider.userToView">
                <ion-label>
                    {{claim.userName}}
                </ion-label>
                <ion-avatar slot="start" class="">
                    <ion-img [src]="claim.userPhoto"></ion-img>
                </ion-avatar>
            </ion-item>
        </ion-item-group>

        <ion-item-group class="ion-margin-bottom">
            <ion-label class="group-label group-label--mb">Ver detalles de la empresa</ion-label>
            <ion-item (click)="goToPlaceDetails()" color="pagami-surface" button detail [disabled]="!intentProvider.placeToView">
                <ion-label>
                    {{claim.placeName}}
                </ion-label>
                <ion-avatar slot="start" class="">
                    <ion-img [src]="claim.placePhoto"></ion-img>
                </ion-avatar>
            </ion-item>
        </ion-item-group>
    </ion-list>

    <ion-list lines="none" class="inputs-container mt-0">
        <ion-item-group class="ion-margin-bottom">
            <ion-label class="group-label">Vias de Contacto</ion-label>
            <ion-item class="item-admin ion-no-padding">
                <ion-button [href]="'tel:'+claim.businessPhone" class="btn-no-style item-admin__redirect ion-no-padding circle-shape">
                    <ion-avatar slot="start" class="item-admin__avatar">
                        <ion-icon src="assets/icon/call.svg" class="size-icon-default"></ion-icon>
                    </ion-avatar>
                </ion-button>
                <ion-label>{{claim.businessPhone}}</ion-label>
            </ion-item>
            <ion-item class="item-admin ion-no-padding">
                <ion-button [href]="'mailto:' + claim.businessEmail" class="btn-no-style item-admin__redirect ion-no-padding circle-shape">
                    <ion-avatar slot="start" class="item-admin__avatar">
                        <ion-icon src="assets/icon/email.svg" class="size-icon-default"></ion-icon>
                    </ion-avatar>
                </ion-button>
                <ion-label>{{claim.businessEmail}}</ion-label>
            </ion-item>
        </ion-item-group>
        <ion-item-group class="ion-margin-bottom">
            <ion-label class="group-label">Comentarios</ion-label>
            <ion-item class="item-admin ion-no-padding">
                <ion-label class="ion-text-wrap">{{claim.businessComment}}</ion-label>
            </ion-item>
        </ion-item-group>
    </ion-list>

</ion-content>

<ion-footer class="footer-button" *ngIf="!saved">
    <ion-row>
        <ion-col size="6">
            <ion-button class="button-small" expand="block" color="pagami-surface" (click)="openConfirm()" [disabled]="saving || rejecting">
                <ion-spinner *ngIf="rejecting" class="spinner-energized"></ion-spinner>
                <span *ngIf="!rejecting">Rechazar</span>
            </ion-button>
        </ion-col>
        <ion-col size="6">
            <ion-button class="button-small" expand="block" (click)="verifyClaim()" [disabled]="saving || rejecting">
                <ion-spinner *ngIf="saving" class="spinner-energized"></ion-spinner>
                <span *ngIf="!saving">Verificar</span>
            </ion-button>
        </ion-col>
    </ion-row>
</ion-footer>
