

<ion-content #ionContent>

    <ion-item-group class="image-user-center">
        <ion-avatar class="border-white-1px">
            <ion-img [src]="user.photoUrl"></ion-img>
        </ion-avatar>
    </ion-item-group>

    <ion-list lines="none" class="inputs-container" *ngIf="user">
        <ion-item color="pagami-surface">
            <ion-label position="floating">Nombre</ion-label>
            <ion-input type="text" [(ngModel)]="user.name" maxlength="30" [disabled]="saving"></ion-input>
            <ion-icon name="person" slot="start"></ion-icon>
        </ion-item>
        <ion-item color="pagami-surface">
            <ion-label position="floating">Apellido</ion-label>
            <ion-input type="text" [(ngModel)]="user.lastname" maxlength="30" [disabled]="saving"></ion-input>
            <ion-icon name="people" slot="start"></ion-icon>
        </ion-item>
        <ion-item color="pagami-surface">
            <ion-label position="floating">Correo Electrónico</ion-label>
            <ion-input type="text" [value]="user.email" readonly="true" [disabled]="saving"></ion-input>
            <ion-icon name="mail" slot="start"></ion-icon>
        </ion-item>
        <ion-item color="pagami-surface">
            <ion-label position="floating">País</ion-label>
            <ionic-selectable modalCssClass='ionic-selectable-documentation-configuration'
                              [(ngModel)]="country"
                              [items]="countries"
                              itemValueField="code"
                              itemTextField="name"
                              [canSearch]="true"
                              (onChange)="countryChange($event)"
                              [disabled]="saving">
            </ionic-selectable>
            <ion-icon name="globe" slot="start"></ion-icon>
        </ion-item>
        <ion-item-group class="group-flex">
            <ion-item color="pagami-surface">
                <ion-label position="floating">Código</ion-label>
                <ion-input [(ngModel)]="user.phoneCode" disabled></ion-input>
            </ion-item>
            <ion-item color="pagami-surface">
                <ion-label position="floating">Teléfono</ion-label>
                <ion-input type="tel" [(ngModel)]="user.phone" maxlength="15" [disabled]="saving"></ion-input>
            </ion-item>
        </ion-item-group>
        <ion-item #itemLocation color="pagami-surface" class="mb-0">
            <ion-label position="floating">Ubicación</ion-label>
            <ion-input type="text" [(ngModel)]="address" [disabled]="saving"></ion-input>
            <ion-icon name="location" slot="start"></ion-icon>
        </ion-item>
        <div class="info-text multi-lines">
            <small>* Esta ubicación solo se mostrara a las empresas que solicites domicilio (Opcional).</small>
        </div>
    </ion-list>

    <footer class="footer-button footer-button--div">
        <ion-button [disabled]="saving || buttonDisabled" class="button-large" expand="block" (click)="registerUser()" color="pagami">
            <ion-spinner *ngIf="saving" class="spinner-energized"></ion-spinner>
            <span *ngIf="!saving">Guardar mi Cuenta</span>
        </ion-button>
    </footer>
</ion-content>

